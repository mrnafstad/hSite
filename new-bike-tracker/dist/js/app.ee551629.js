(function(t){function n(n){for(var o,i,c=n[0],s=n[1],l=n[2],f=0,p=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);u&&u(n);while(p.length)p.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],o=!0,c=1;c<e.length;c++){var s=e[c];0!==a[s]&&(o=!1)}o&&(r.splice(n--,1),t=i(i.s=e[0]))}return t}var o={},a={app:0},r=[];function i(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=o,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)i.d(e,o,function(n){return t[n]}.bind(null,o));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var u=s;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var o=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-app",[e("v-app-bar",{attrs:{app:"",color:"dark",dark:""}},[t._v(" Citybike-tracker "),e("v-spacer"),e("v-switch",{attrs:{label:"Show empty stations",dark:""},on:{click:t.toggleDisplay}}),e("v-spacer"),e("v-switch",{attrs:{label:"Show full stations",dark:""},on:{click:t.toggleFull}}),e("v-spacer"),e("v-btn",{on:{click:t.toggleAppInfo}},[t._v("Info")])],1),e("v-main",{staticClass:"text-center"},[e("GoogleMap")],1)],1)},r=[],i=e("5530"),c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",[e("v-overlay",{attrs:{value:t.showAppInfo}},[e("v-card",{attrs:{raised:"",light:""}},[e("p",[t._v("This is a simple tracking app for Oslo city bikes")]),e("p",[t._v("Stationdata is updated every minute")]),e("v-btn",{attrs:{icon:""},on:{click:t.toggleAppInfo}},[e("v-icon",[t._v("mdi-check")])],1)],1)],1),e("v-overlay",{attrs:{value:t.showStationInfo}},[e("v-card",{attrs:{raised:"",light:""}},[e("v-list-item",{attrs:{"two-line":""}},[e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(t.currentInfo.name))]),e("v-list-item-subtitle",[t._v(" Ledig: "+t._s(t.currentInfo.available)+"/"+t._s(t.currentInfo.capacity)+" ")]),e("v-spacer"),e("v-btn",{attrs:{icon:""},on:{click:t.toggleStationInfo}},[e("v-icon",[t._v("mdi-check")])],1)],1)],1)],1)],1),e("v-overlay",{attrs:{value:t.user.show}},[e("v-card",{attrs:{raised:"",light:""}},[e("v-list-item",[e("v-list-item-title",[t._v(t._s(t.user.info))]),e("v-spacer"),e("v-btn",{attrs:{icon:""},on:{click:function(n){t.user.show=!t.user.show}}},[e("v-icon",[t._v("mdi-check")])],1)],1)],1)],1),e("gmap-map",{staticStyle:{width:"100%",height:"90vh"},attrs:{center:t.center,zoom:12}},t._l(t.stationsFiltered,(function(n,o){return e("gmap-marker",{key:o,attrs:{position:n.pos,clickable:!0},on:{click:function(e){return t.toggleStation(n)}}})})),1)],1)},s=[],l=(e("b0c0"),e("96cf"),e("1da1")),u=e("2f62"),f={name:"GoogleMap",data:function(){return{center:{lat:59.9,lng:10.73},currentPlace:null,showInfo:!0,currentInfo:{name:"no name",capacity:"no data"},user:{show:!1,info:"Users position"}}},mounted:function(){this.geolocate()},methods:Object(i["a"])(Object(i["a"])({},Object(u["b"])(["getStations","getStationData","toggleAppInfo","toggleStationInfo"])),{},{setPlace:function(t){this.currentPlace=t},geolocate:function(){var t=this;navigator.geolocation.getCurrentPosition((function(n){t.center={lat:n.coords.latitude,lng:n.coords.longitude}}))},toggleStation:function(t){this.toggleStationInfo(),this.currentInfo={name:t.name,capacity:t.capacity,available:t.available,docksFree:t.docksAvailable}}}),computed:Object(i["a"])({},Object(u["c"])(["stationsFiltered","showAppInfo","showStationInfo","showUnavailable"])),created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.getStations();case 2:return n.next=4,t.getStationData();case 4:t.timer=setInterval(t.getStationData,60);case 5:case"end":return n.stop()}}),n)})))()}},p=f,v=e("2877"),g=e("6544"),h=e.n(g),d=e("8336"),b=e("b0af"),m=e("a523"),w=e("132d"),y=e("da13"),I=e("5d23"),S=e("a797"),k=e("2fa4"),_=Object(v["a"])(p,c,s,!1,null,null,null),A=_.exports;h()(_,{VBtn:d["a"],VCard:b["a"],VContainer:m["a"],VIcon:w["a"],VListItem:y["a"],VListItemContent:I["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"],VOverlay:S["a"],VSpacer:k["a"]});var j={name:"App",components:{GoogleMap:A},computed:Object(i["a"])({},Object(u["c"])(["showAppInfo"])),methods:Object(i["a"])({},Object(u["b"])(["toggleAppInfo","toggleDisplay","toggleFull"])),data:function(){return{}}},O=j,x=e("7496"),V=e("40dc"),F=e("f6c4"),P=e("b73d"),D=Object(v["a"])(O,a,r,!1,null,null,null),M=D.exports;h()(D,{VApp:x["a"],VAppBar:V["a"],VBtn:d["a"],VMain:F["a"],VSpacer:k["a"],VSwitch:P["a"]});e("4de4"),e("7db0"),e("4160"),e("d3b7"),e("159b");o["a"].use(u["a"]);var L=new u["a"].Store({state:{stations:[],showAppInfo:!0,showStationInfo:!1,onlyAvailable:!1,showFull:!1},mutations:{setStations:function(t,n){n.forEach((function(n){t.stations.push({station_id:n.station_id,name:n.name,pos:{lat:n.lat,lng:n.lon},capacity:n.capacity})}))},toggleAppInfo:function(t){return t.showAppInfo=!t.showAppInfo},toggleStationInfo:function(t){return t.showStationInfo=!t.showStationInfo},toggleDisplay:function(t){return t.onlyAvailable=!t.onlyAvailable},toggleFull:function(t){return t.showFull=!t.showFull}},actions:{getStations:function(t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=t.commit,n.next=3,fetch("https://gbfs.urbansharing.com/oslobysykkel.no/station_information.json").then((function(t){return t.json()})).then((function(t){e("setStations",t.data.stations)})).catch((function(t){return console.log(t)}));case 3:case"end":return n.stop()}}),n)})))()},getStationData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://gbfs.urbansharing.com/oslobysykkel.no/station_status.json").then((function(t){return t.json()})).then((function(n){n.data.stations.forEach((function(n){var e=t.state.stations.find((function(t){return t.station_id===n.station_id}));e.available=n.num_bikes_available,e.docksAvailable=n.num_docks_available}))}));case 2:case"end":return n.stop()}}),n)})))()},toggleAppInfo:function(t){var n=t.commit;n("toggleAppInfo")},toggleStationInfo:function(t){var n=t.commit;n("toggleStationInfo")},toggleDisplay:function(t){var n=t.commit;n("toggleDisplay")},toggleFull:function(t){var n=t.commit;n("toggleFull")}},modules:{},getters:{stationsFiltered:function(t){return t.onlyAvailable?t.showfull?t.stations.filter((function(t){return t.available<t.capacity})):t.stations:t.stations.filter((function(t){return t.available>0}))},showAppInfo:function(t){return t.showAppInfo},showStationInfo:function(t){return t.showStationInfo},showUnavailable:function(t){return t.onlyAvailable}}}),C=e("f309");o["a"].use(C["a"]);var R=new C["a"]({}),T=e("755e");o["a"].use(T,{load:{key:"AIzaSyDLLnxJcAssbfaovhQyAcmt0cZsd95BbJg",libraries:"places"}}),o["a"].config.productionTip=!1,new o["a"]({store:L,vuetify:R,render:function(t){return t(M)}}).$mount("#app")}});
//# sourceMappingURL=app.ee551629.js.map